installables:
  - id: istio-base
    type: helm
    name: base
    release: istio-base
    repository: "https://istio-release.storage.googleapis.com/charts"
    chartVersion: "1.27.3"
    condition: istio.enabled
    namespace: istio.namespace
    valuesPath: istiod

  - id: istiod
    type: helm
    name: istiod
    release: istiod
    repository: "https://istio-release.storage.googleapis.com/charts"
    chartVersion: "1.27.3"
    condition: istio.enabled
    namespace: istio.namespace
    valuesPath: istiod

  - id: kiali
    type: kubectl-apply
    url: https://raw.githubusercontent.com/istio/istio/release-1.25/samples/addons/kiali.yaml
    condition: kiali.enabled
    namespace: kiali.namespace
    applyMethod: kubectl-apply
    injectNamespace: true

  - id: cert-manager
    type: kubectl-apply
    url: https://github.com/cert-manager/cert-manager/releases/download/v1.17.2/cert-manager.yaml
    condition: certManager.enabled
    namespace: certManager.namespace
    applyMethod: kubectl-apply
    injectNamespace: false

  # Example: a local manifest referenced by a path relative to this installables.yaml file
  - id: local-config
    type: kubectl-apply
    url: manifests/local-config.yaml
    condition: local.enabled
    namespace: local.namespace
    applyMethod: kubectl-apply
    injectNamespace: true

  # Example: an absolute file URL (file:///). This will read the file from the filesystem.
  - id: absolute-local
    type: kubectl-apply
    url: "file:///etc/kubernetes/manifests/some-local.yaml"
    condition: local.enabled
    namespace: local.namespace
    applyMethod: kubectl-apply
    injectNamespace: false

  # Example: apply labels to a namespace
  - id: label-team1
    type: kubectl-label
    namespace: team1.namespace
    labels:
      team: team1
      env: dev
    condition: team1.enabled
